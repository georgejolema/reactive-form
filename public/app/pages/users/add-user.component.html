<div class="card">
    <div class="card-body">
        <form #formelement [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
            <div class="form-group">
                <label for="username">Account name</label>
                <input 
                    type="text" 
                    class="form-control" 
                    [ngClass]="{'is-invalid': (validityObservables.isUserNameValid$ | async)}"
                    id="username" 
                    name="username" 
                    placeholder="username"
                    formControlName="username"
                    aria-describedby="userhelperblock"/>
                
                <small id="userhelperblock" class="invalid-feedback">
                  {{validateTextInputs('username', 'username')}}
                </small>
            </div>
            <div class="form-row">
                <div class="col-md-6 form-group">
                    <label for="firstname">First name</label>
                    <input 
                        type="text" 
                        class="form-control"
                        [ngClass]="{'is-invalid': (validityObservables.isFirstNameValid$ | async)}"
                        id="firstname" 
                        name="firstname" 
                        placeholder="first name"
                        formControlName="firstname"
                        aria-describedby="firstnamehelperblock"/>
    
                    <small id="firstnamehelperblock" class="invalid-feedback">
                        {{validateTextInputs('firstname', 'first name')}}
                    </small>
                </div>
                <div class="col-md-6 form-group">
                    <label for="lastname">Last name</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        [ngClass]="{'is-invalid': (validityObservables.isLastNameValid$ | async)}"
                        id="lastname" 
                        name="lastname" 
                        placeholder="last name"
                        formControlName="lastname"
                        aria-describedby="lastnamenamehelperblock"/>
                    
                    <small id="lastnamenamehelperblock" class="invalid-feedback">
                        {{validateTextInputs('lastname', 'last name')}}
                    </small>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6 form-group">
                    <label for="email">Email</label>
                    <input
                        class="form-control" 
                        [ngClass]="{'is-invalid': (validityObservables.isEmailValid$ | async)}"
                        id="email" 
                        name="email" 
                        placeholder="youremail@domain.com"
                        formControlName="email"
                        type="email"
                        aria-describedby="emailhelperblock"/>
                    
                    <small id="emailhelperblock" class="invalid-feedback">
                        {{validateSpecialInput('email', 'email')}}
                    </small>
                </div>
                <div class="col-md-6 form-group">
                    <label for="birthdate">Birth age</label>
                    <input
                        type="text" 
                        class="form-control" 
                        id="birthdate" 
                        name="birthdate" 
                        [ngClass]="{'is-invalid': (validityObservables.isBirthDateValid$ | async)}"
                        placeholder="dd-mm-yyyy"
                        formControlName="birthdate" />

                    <small id="emailhelperblock" class="invalid-feedback">
                        {{validateSpecialInput('birthdate', 'birth date')}}
                    </small>
                </div>
            </div>
            <div class="form-group">
                <div class="form-check">
                    <input formControlName="enableAddress" id="hasaddress" name="hasaddress" type="checkbox" />
                    <label class="form-check-label" for="hasaddress">Has address</label>             
                </div>
            </div>

            <div *ngIf="userForm.get('enableAddress').value">
                <div class="form-row">
                    <div class="col-md-4 form-group">
                        <label for="city">Country</label>
                        <select class="form-control">
                            <option value="-1">-Select an option-</option>
                            <option 
                                *ngFor="let country of countries$ | async" 
                                value="country">
                                    {{country}}
                            </option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label>State</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            name="state" />
                    </div>
                    <div class="col-md-4 form-group">
                        <label>City</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            name="city" />
                    </div>
                </div>

                <div class="form-row">
                    <div class="col-md-4 form-group">
                        <label>Address 1</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            name="address1" />
                    </div>
                    <div class="col-md-4 form-group">
                        <label>Address 2</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            name="address2" />
                    </div>
                    <div class="col-md-4 form-group">
                        <label>Zip</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            name="zip" />
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary mr-md-2">Save</button>
            <button type="button" class="btn btn-secondary" (click)="goBack()">Back</button>
        </form>
    </div>
</div>